webpackJsonp([7],{"3RbY":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("pFYg"),a=t.n(o),r=t("Dd8w"),i=t.n(r),s=t("dqLd"),l=t("e8d8"),c=t("UZd0"),d={name:"Registration",components:{Breadcrumb:l.a},data:function(){var n={country:s.a.dropValue,invoiceFile:"",cecFile:"",contacts:{contactFirstName:"",contactLastName:"",contactEmail:"",contactNumber:""},address:{contryCode:"",cityName:"",stateName:"",addressLine1:"",addressLine2:"",postCode:""},productNumber:"",productModel:"",products:[],businessPartner:"",installInstaller:"",installDate:"",installCec:"",suggestions:"",checked:!1,type:1,a:"",b:""};return{Bus:s.a,pNumTooltip:"Please refer to the nameplate on the side of the Sungrow product.",ivcTooltip:"Please attach the invoice as the evidence of the installation.Note: The maximum attachment size per file is 10 MB.",cecTooltip:"Please attach the Electrical Compliance Certifcate as the evidence of the installation.Normally it will provided by the installer after installation.For different states.the name for such certifcate may vary. Note: The maximum attachment size per file is 10 MB.",pickerOptions:{disabledDate:function(n){return n.getTime()>Date.now()}},rules:{"contacts.contactFirstName":[{required:!0,message:"First name is required",triggle:["change","blur"]}],productNumber:[{required:!0,message:"Serial number is required",triggle:["change","blur"]}],"contacts.contactEmail":[{required:!0,message:"Email is required",triggle:["change","blur"]}],"address.cityName":[{required:!0,message:"City is required",triggle:["change","blur"]}],"address.stateName":[{required:!0,message:"State is required",triggle:["change","blur"]}],"address.postCode":[{required:!0,message:"Post code is required",triggle:["change","blur"]}],installDate:[{required:!0,message:"InstallDate is required",triggle:["change","blur"]}]},pNumLoding:!1,submitLoading:!1,options:[{value:"AU",label:"Australia"},{value:"2",label:"选项2"}],breadcrumbList:[{path:"/warranty/registration",name:"Warranty"},{path:"/warranty/registration",name:"Registration"}],fileList:[],fileList1:[],formMod:n,form:i()({},n)}},methods:{openTerm:function(){window.open("../../../sun-portal/v/static/Sungrow Manufacturer Warranty.pdf")},getProductInfo:function(){var n=this;this.form.productNumber?(this.pNumLoding=!0,Object(c.f)({serialNumber:this.form.productNumber}).then(function(e){1==e.data.code?(n.pNumLoding=!1,n.form.productModel=e.data.data.productModelValue,n.form.products=[{serialNumber:n.form.productNumber,productId:e.data.data.id,productModel:e.data.data.productModelValue,dispatchedDate:e.data.data.dispatchedDate}],n.form.businessPartner=e.data.data.businessPartner,console.log(n.form.products)):n.pNumLoding=!1}).catch(function(e){n.form.productModel="",n.pNumLoding=!1,console.log(e)})):this.form.productModel=""},onSubmit:function(n){this.$formTest.submitForm(this.$refs[n],this.submit)},submit:function(){var n=this;this.submitLoading=!0;var e=new FormData;this.form.country=s.a.dropValue;var t=this.form;for(var o in t)if("invoiceFile"===o&&t[o]||"cecFile"===o&&t[o])e.append(o,t[o]);else if("object"==a()(t[o]))for(var r in t[o])if("object"==a()(t[o][r]))for(var i in t[o][r])(t[o][r][i]||0===t[o][r][i])&&(t[o].constructor===Array?e.append(o+"["+r+"]."+i,t[o][r][i]):e.append(o+"."+r+"."+i,t[o][r][i]));else(t[o][r]||0===t[o][r])&&e.append(o+"."+r,t[o][r]);else(t[o]||0===t[o])&&e.append(o,t[o]);Object(c.h)(e).then(function(e){if(1==e.data.code){n.submitLoading=!1,n.$message.success("submitted successfully, Doc No."+e.data.data+"and will jump to home page in 3 seconds");var t=setTimeout(function(){n.$router.push({name:"Home"}),clearTimeout(t)},3e3)}}).catch(function(e){n.submitLoading=!1})},reset:function(){this.form=i()({},this.formMod)},changeFile:function(n){console.log(n)},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(n,e){console.log(n,e)},handlePreview:function(n){console.log(n)},handleChange:function(n,e){this.fileList=e.slice(-1),this.form.cecFile=this.fileList[0].raw},handleRemove1:function(n,e){console.log(n,e)},handlePreview1:function(n){console.log(n)},handleChange1:function(n,e){this.fileList1=e.slice(-1),this.form.invoiceFile=this.fileList1[0].raw}},created:function(){console.log("https://sunportal0sitfb3323b80.cn1.hana.ondemand.com/sun-portal")},mounted:function(){var n=this;s.a.$on("dropValue",function(e){n.form.country=e})}},m=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("el-container",{staticClass:"registration",attrs:{direction:"vertical"}},[t("Breadcrumb",{attrs:{breadcrumbList:n.breadcrumbList}}),n._v(" "),t("el-form",{ref:"form",staticClass:"form",attrs:{disabled:n.submitLoading,rules:n.rules,size:"small",model:n.form,"label-width":"80px","label-position":"top"}},[t("h2",[n._v("Contact Details")]),n._v(" "),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"First name",prop:"contacts.contactFirstName"}},[t("el-input",{model:{value:n.form.contacts.contactFirstName,callback:function(e){n.$set(n.form.contacts,"contactFirstName",e)},expression:"form.contacts.contactFirstName"}})],1)],1),n._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Last name"}},[t("el-input",{model:{value:n.form.contacts.contactLastName,callback:function(e){n.$set(n.form.contacts,"contactLastName",e)},expression:"form.contacts.contactLastName"}})],1)],1),n._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Email",prop:"contacts.contactEmail"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-message",placeholder:"separated by ';'"},model:{value:n.form.contacts.contactEmail,callback:function(e){n.$set(n.form.contacts,"contactEmail",e)},expression:"form.contacts.contactEmail"}})],1)],1),n._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Contact Number"}},[t("el-input",{model:{value:n.form.contacts.contactNumber,callback:function(e){n.$set(n.form.contacts,"contactNumber",e)},expression:"form.contacts.contactNumber"}})],1)],1)],1),n._v(" "),t("h2",[n._v("Product Details")]),n._v(" "),t("el-row",{attrs:{gutter:20}},[t("el-col",{directives:[{name:"loading",rawName:"v-loading",value:n.pNumLoding,expression:"pNumLoding"}],attrs:{span:6}},[t("el-form-item",{attrs:{label:"Product serial number",prop:"productNumber"}},[t("el-tooltip",{staticClass:"tooltip",attrs:{effect:"dark",content:n.pNumTooltip,placement:"top-start"}},[t("el-input",{on:{change:n.getProductInfo},model:{value:n.form.productNumber,callback:function(e){n.$set(n.form,"productNumber",e)},expression:"form.productNumber"}})],1)],1)],1),n._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Product model"}},[t("el-input",{attrs:{readonly:!0},model:{value:n.form.productModel,callback:function(e){n.$set(n.form,"productModel",e)},expression:"form.productModel"}})],1)],1)],1),n._v(" "),t("h2",[n._v("Installation Details")]),n._v(" "),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Address Line 1"}},[t("el-input",{model:{value:n.form.address.addressLine1,callback:function(e){n.$set(n.form.address,"addressLine1",e)},expression:"form.address.addressLine1"}})],1)],1),n._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Address Line 2"}},[t("el-input",{model:{value:n.form.address.addressLine2,callback:function(e){n.$set(n.form.address,"addressLine2",e)},expression:"form.address.addressLine2"}})],1)],1),n._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"City/District",prop:"address.cityName"}},[t("el-input",{model:{value:n.form.address.cityName,callback:function(e){n.$set(n.form.address,"cityName",e)},expression:"form.address.cityName"}})],1)],1),n._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"State/Province",prop:"address.stateName"}},[t("el-input",{model:{value:n.form.address.stateName,callback:function(e){n.$set(n.form.address,"stateName",e)},expression:"form.address.stateName"}})],1)],1),n._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Post code",prop:"address.postCode"}},[t("el-input",{model:{value:n.form.address.postCode,callback:function(e){n.$set(n.form.address,"postCode",e)},expression:"form.address.postCode"}})],1)],1),n._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Installer"}},[t("el-input",{model:{value:n.form.installInstaller,callback:function(e){n.$set(n.form,"installInstaller",e)},expression:"form.installInstaller"}})],1)],1),n._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Installation date",prop:"installDate"}},[t("el-date-picker",{staticClass:"datePicker",attrs:{"picker-options":n.pickerOptions,type:"date","value-format":"yyyy-MM-dd"},model:{value:n.form.installDate,callback:function(e){n.$set(n.form,"installDate",e)},expression:"form.installDate"}})],1)],1),n._v(" "),"AU"===n.form.country?t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"CEC accreditation number"}},[t("el-input",{model:{value:n.form.installCec,callback:function(e){n.$set(n.form,"installCec",e)},expression:"form.installCec"}})],1)],1):n._e(),n._v(" "),"AU"===n.form.country?t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Invoice upload"}},[t("el-tooltip",{staticClass:"tooltip",attrs:{effect:"dark",content:n.ivcTooltip,placement:"top-start"}},[t("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{width:"100%"},attrs:{limit:1,action:"https://jsonplaceholder.typicode.com/posts/","on-change":n.handleChange1,"on-preview":n.handlePreview1,"on-remove":n.handleRemove1,"file-list":n.fileList1,"auto-upload":!1}},[t("el-input",{staticClass:"fileBtn",staticStyle:{width:"100%"},attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[n._v("Choose File")])],1)],1)],1)],1):n._e(),n._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Electrical Compliance Certificate"}},[t("el-tooltip",{staticClass:"tooltip",attrs:{effect:"dark",content:n.cecTooltip,placement:"top-start"}},[t("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{width:"100%"},attrs:{limit:1,action:"https://jsonplaceholder.typicode.com/posts/","on-change":n.handleChange,"on-preview":n.handlePreview,"on-remove":n.handleRemove,"file-list":n.fileList,"auto-upload":!1}},[t("el-input",{staticClass:"fileBtn",staticStyle:{width:"100%"},attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[n._v("Choose File")])],1)],1)],1)],1)],1),n._v(" "),t("h2",[n._v("Suggestions")]),n._v(" "),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Do you have any product suggestions?"}},[t("el-input",{attrs:{type:"textarea",resize:"none",rows:4},model:{value:n.form.suggestions,callback:function(e){n.$set(n.form,"suggestions",e)},expression:"form.suggestions"}})],1)],1),n._v(" "),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:" "}},[t("el-checkbox",{model:{value:n.form.checked,callback:function(e){n.$set(n.form,"checked",e)},expression:"form.checked"}},[n._v("I have read and agree to "),t("el-button",{attrs:{type:"text"},on:{click:n.openTerm}},[n._v("Sungrow's warranty terms.")])],1)],1)],1)],1),n._v(" "),t("el-form-item",{staticClass:"sub"},[t("el-button",{attrs:{type:"primary",disabled:!n.form.checked,loading:n.submitLoading},on:{click:function(e){return n.onSubmit("form")}}},[n._v("Submit")]),n._v(" "),t("el-button",{on:{click:n.reset}},[n._v("reset")])],1)],1)],1)};m._withStripped=!0;var u={render:m,staticRenderFns:[]},p=u;var f=!1;var g=t("VU/8")(d,p,!1,function(n){f||t("tRn4")},null,null);g.options.__file="src/components/pages/registration.vue";e.default=g.exports},d18B:function(n,e,t){(n.exports=t("yGwj")(!0)).push([n.i,"\n.registration{height:100%\n}\n.registration .desc{text-align:center;font-size:30px\n}\n.registration .desc img{width:100%;display:inline-block\n}\n.registration .form{padding:20px\n}\n.registration .form h2{padding:10px 0;color:#FF7F00\n}\n.registration .form .datePicker,.registration .form .el-select{width:100%\n}\n.registration .form .el-upload{width:100%\n}\n.registration .form .upload-demo>div{width:100%\n}\n.registration .form .upload-demo ul{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;position:absolute;top:0\n}\n.registration .form .upload-demo ul:focus{border:none;outline:none !important\n}\n.registration .form .upload-demo ul li{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1px;line-height:32px;height:32px;margin-top:0\n}\n.registration .form .upload-demo ul li .el-icon-close{top:9px\n}\n.registration .form .upload-demo ul li:hover{background-color:transparent\n}\n.registration .form .upload-demo ul li:focus{border:none;outline:none !important\n}\n.registration .form .sub{margin-top:20px\n}\n","",{version:3,sources:["/Users/Bill/Documents/work/idea/three/sun-portal-view/src/components/pages/registration.vue","registration.vue"],names:[],mappings:";AAuYA,cACE;ACtYF;ADqYA,oBAGI,iBAAA,CACA;ACvYJ;ADmYA,wBAMM,UAAA,CACA;ACxYN;ADiYA,oBAWI;AC1YJ;AD+XA,uBAaM,cAAA,CACA;AC3YN;AD6XA,+DAiBM;AC5YN;AD2XA,+BAoBM;AC7YN;ADyXA,qCAwBQ;AC/YR;ADuXA,oCA2BQ,6BAAA,CAAA,qBAAA,CACA,UAAA,CACA,iBAAA,CACA;ACnZR;ADqXA,0CAgCU,WAAA,CACA;ACpZV;ADmXA,uCAqCU,mBAAA,CAAA,mBAAA,CAAA,YAAA,CACA,wBAAA,CAAA,qBAAA,CAAA,kBAAA,CACA,WAAA,CACA,gBAAA,CACA,WAAA,CACA;AC3ZV;ADiXA,sDA4CY;AC3ZZ;AD+WA,6CAgDU;AC7ZV;AD6WA,6CAmDU,WAAA,CACA;AC/ZV;AD2WA,yBAyDM;AClaN",file:"registration.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.registration {\n  height: 100%;\n  .desc {\n    text-align: center;\n    font-size: 30px;\n    img{\n      width: 100%;\n      display: inline-block\n    }\n  }\n  .form{\n    padding: 20px;\n    h2{\n      padding: 10px 0;\n      color: #FF7F00\n    }\n    .datePicker,.el-select{\n      width: 100% ;\n    }\n    .el-upload{\n      width: 100%;\n    }\n    .upload-demo{\n      >div{\n        width: 100%;\n      }\n      ul{\n        box-sizing: border-box;\n        width: 100%;\n        position: absolute;\n        top: 0;\n        &:focus{\n          border: none;\n          outline:none !important;\n        }\n        li{\n          // box-sizing: border-box;\n          display: flex;\n          align-items: center;\n          padding: 1px;\n          line-height: 32px;\n          height: 32px;\n          margin-top: 0;\n          .el-icon-close{\n            top: 9px;\n          }\n        }\n        li:hover{\n          background-color: transparent;\n        }\n        li:focus{\n          border: none;\n          outline:none !important;\n        }\n      }\n    }\n    .sub{\n      margin-top: 20px;\n    }\n  }\n}\n\n","\n.registration{height:100%\n}\n.registration .desc{text-align:center;font-size:30px\n}\n.registration .desc img{width:100%;display:inline-block\n}\n.registration .form{padding:20px\n}\n.registration .form h2{padding:10px 0;color:#FF7F00\n}\n.registration .form .datePicker,.registration .form .el-select{width:100%\n}\n.registration .form .el-upload{width:100%\n}\n.registration .form .upload-demo>div{width:100%\n}\n.registration .form .upload-demo ul{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;position:absolute;top:0\n}\n.registration .form .upload-demo ul:focus{border:none;outline:none !important\n}\n.registration .form .upload-demo ul li{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1px;line-height:32px;height:32px;margin-top:0\n}\n.registration .form .upload-demo ul li .el-icon-close{top:9px\n}\n.registration .form .upload-demo ul li:hover{background-color:transparent\n}\n.registration .form .upload-demo ul li:focus{border:none;outline:none !important\n}\n.registration .form .sub{margin-top:20px\n}\n"]}])},tRn4:function(n,e,t){var o=t("d18B");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);t("rjj0")("59bfd352",o,!1,{})}});
//# sourceMappingURL=7.ac30cfefdb6cfbdd3478.js.map
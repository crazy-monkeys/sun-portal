webpackJsonp([7],{"3RbY":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("pFYg"),i=e.n(o),a=e("Dd8w"),r=e.n(a),s=e("dqLd"),l=e("e8d8"),c=e("UZd0"),d={name:"Registration",components:{Breadcrumb:l.a},data:function(){var n={country:s.a.dropValue,invoiceFile:"",cecFile:"",contacts:{contactFirstName:"",contactLastName:"",contactEmail:"",contactNumber:""},address:{contryCode:"",cityName:"",stateName:"",addressLine1:"",addressLine2:"",postCode:""},productNumber:"",productModel:"",products:[],businessPartner:"",installInstaller:"",installDate:"",installCec:"",suggestions:"",checked:!1,type:1,a:"",b:""};return{Bus:s.a,pNumTooltip:this.$t("registration.pNumTooltip"),ivcTooltip:this.$t("registration.ivcTooltip"),cecTooltip:this.$t("registration.cecTooltip"),pickerOptions:{disabledDate:function(n){return n.getTime()>Date.now()}},rules:{"contacts.contactFirstName":[{required:!0,message:"First name is required",triggle:["change","blur"]}],productNumber:[{required:!0,message:"Serial number is required",triggle:["change","blur"]}],"contacts.contactEmail":[{required:!0,message:"Email is required",triggle:["change","blur"]}],"address.cityName":[{required:!0,message:"City is required",triggle:["change","blur"]}],"address.stateName":[{required:!0,message:"State is required",triggle:["change","blur"]}],"address.postCode":[{required:!0,message:"Post code is required",triggle:["change","blur"]}],installDate:[{required:!0,message:"InstallDate is required",triggle:["change","blur"]}]},pNumLoding:!1,submitLoading:!1,options:[{value:"AU",label:"Australia"},{value:"2",label:"选项2"}],fileList:[],fileList1:[],formMod:n,form:r()({},n)}},methods:{openTerm:function(){window.open("BR"==s.a.dropValue?"../../../sun-portal/v/static/01_Politica de Garantia_Rev.3.pdf":"../../../sun-portal/v/static/Sungrow Manufacturer Warranty.pdf")},getProductInfo:function(){var n=this;this.form.productNumber?(this.pNumLoding=!0,Object(c.f)({serialNumber:this.form.productNumber}).then(function(t){1==t.data.code?(n.pNumLoding=!1,n.form.productModel=t.data.data.productModelValue,n.form.products=[{serialNumber:n.form.productNumber,productId:t.data.data.id,productModel:t.data.data.productModelValue,dispatchedDate:t.data.data.dispatchedDate}],n.form.businessPartner=t.data.data.businessPartner,console.log(n.form.products)):n.pNumLoding=!1}).catch(function(t){n.form.productModel="",n.pNumLoding=!1,console.log(t)})):this.form.productModel=""},onSubmit:function(n){this.$formTest.submitForm(this.$refs[n],this.submit)},submit:function(){var n=this;this.submitLoading=!0;var t=new FormData;this.form.country=s.a.dropValue;var e=this.form;for(var o in e)if("invoiceFile"===o&&e[o]||"cecFile"===o&&e[o])t.append(o,e[o]);else if("object"==i()(e[o]))for(var a in e[o])if("object"==i()(e[o][a]))for(var r in e[o][a])(e[o][a][r]||0===e[o][a][r])&&(e[o].constructor===Array?t.append(o+"["+a+"]."+r,e[o][a][r]):t.append(o+"."+a+"."+r,e[o][a][r]));else(e[o][a]||0===e[o][a])&&t.append(o+"."+a,e[o][a]);else(e[o]||0===e[o])&&t.append(o,e[o]);Object(c.i)(t).then(function(t){if(1==t.data.code){n.submitLoading=!1,n.$message.success(n.$t("registration.submitSuccessMsg",[t.data.data]));var e=setTimeout(function(){n.$router.push({name:"Home"}),clearTimeout(e)},3e3)}}).catch(function(t){n.submitLoading=!1})},reset:function(){this.form=r()({},this.formMod)},changeFile:function(n){console.log(n)},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(n,t){console.log(n,t)},handlePreview:function(n){console.log(n)},handleChange:function(n,t){this.fileList=t.slice(-1),this.form.cecFile=this.fileList[0].raw},handleRemove1:function(n,t){console.log(n,t)},handlePreview1:function(n){console.log(n)},handleChange1:function(n,t){this.fileList1=t.slice(-1),this.form.invoiceFile=this.fileList1[0].raw}},mounted:function(){var n=this;s.a.$on("dropValue",function(t){n.form.country=t})},computed:{breadcrumbList:function(){return[{path:"/warranty/registration",name:this.$t("registration.breadcrumb.warranty")},{path:"/warranty/registration",name:this.$t("registration.breadcrumb.registration")}]}}},m=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("el-container",{staticClass:"registration",attrs:{direction:"vertical"}},[e("Breadcrumb",{attrs:{breadcrumbList:n.breadcrumbList}}),n._v(" "),e("el-form",{ref:"form",staticClass:"form",attrs:{disabled:n.submitLoading,rules:n.rules,size:"small",model:n.form,"label-width":"80px","label-position":"top"}},[e("h2",[n._v(n._s(n.$t("registration.contactDetails.title")))]),n._v(" "),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.contactDetails.firstName"),prop:"contacts.contactFirstName"}},[e("el-input",{model:{value:n.form.contacts.contactFirstName,callback:function(t){n.$set(n.form.contacts,"contactFirstName",t)},expression:"form.contacts.contactFirstName"}})],1)],1),n._v(" "),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.contactDetails.lastName")}},[e("el-input",{model:{value:n.form.contacts.contactLastName,callback:function(t){n.$set(n.form.contacts,"contactLastName",t)},expression:"form.contacts.contactLastName"}})],1)],1),n._v(" "),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.contactDetails.email"),prop:"contacts.contactEmail"}},[e("el-input",{attrs:{"prefix-icon":"el-icon-message",placeholder:"separated by ';'"},model:{value:n.form.contacts.contactEmail,callback:function(t){n.$set(n.form.contacts,"contactEmail",t)},expression:"form.contacts.contactEmail"}})],1)],1),n._v(" "),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.contactDetails.contactNumber")}},[e("el-input",{model:{value:n.form.contacts.contactNumber,callback:function(t){n.$set(n.form.contacts,"contactNumber",t)},expression:"form.contacts.contactNumber"}})],1)],1)],1),n._v(" "),e("h2",[n._v(n._s(n.$t("registration.productDetails.title")))]),n._v(" "),e("el-row",{attrs:{gutter:20}},[e("el-col",{directives:[{name:"loading",rawName:"v-loading",value:n.pNumLoding,expression:"pNumLoding"}],attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.productDetails.serialNumber"),prop:"productNumber"}},[e("el-tooltip",{staticClass:"tooltip",attrs:{effect:"dark",content:n.pNumTooltip,placement:"top-start"}},[e("el-input",{on:{change:n.getProductInfo},model:{value:n.form.productNumber,callback:function(t){n.$set(n.form,"productNumber",t)},expression:"form.productNumber"}})],1)],1)],1),n._v(" "),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.productDetails.productModel")}},[e("el-input",{attrs:{readonly:!0},model:{value:n.form.productModel,callback:function(t){n.$set(n.form,"productModel",t)},expression:"form.productModel"}})],1)],1)],1),n._v(" "),e("h2",[n._v(n._s(n.$t("registration.installationDetails.title")))]),n._v(" "),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.installationDetails.addressLine1")}},[e("el-input",{model:{value:n.form.address.addressLine1,callback:function(t){n.$set(n.form.address,"addressLine1",t)},expression:"form.address.addressLine1"}})],1)],1),n._v(" "),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.installationDetails.addressLine2")}},[e("el-input",{model:{value:n.form.address.addressLine2,callback:function(t){n.$set(n.form.address,"addressLine2",t)},expression:"form.address.addressLine2"}})],1)],1),n._v(" "),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.installationDetails.cityDistrict"),prop:"address.cityName"}},[e("el-input",{model:{value:n.form.address.cityName,callback:function(t){n.$set(n.form.address,"cityName",t)},expression:"form.address.cityName"}})],1)],1),n._v(" "),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.installationDetails.stateProvince"),prop:"address.stateName"}},[e("el-input",{model:{value:n.form.address.stateName,callback:function(t){n.$set(n.form.address,"stateName",t)},expression:"form.address.stateName"}})],1)],1),n._v(" "),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.installationDetails.postCode"),prop:"address.postCode"}},[e("el-input",{model:{value:n.form.address.postCode,callback:function(t){n.$set(n.form.address,"postCode",t)},expression:"form.address.postCode"}})],1)],1),n._v(" "),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.installationDetails.installer")}},[e("el-input",{model:{value:n.form.installInstaller,callback:function(t){n.$set(n.form,"installInstaller",t)},expression:"form.installInstaller"}})],1)],1),n._v(" "),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.installationDetails.installDate"),prop:"installDate"}},[e("el-date-picker",{staticClass:"datePicker",attrs:{"picker-options":n.pickerOptions,type:"date","value-format":"yyyy-MM-dd"},model:{value:n.form.installDate,callback:function(t){n.$set(n.form,"installDate",t)},expression:"form.installDate"}})],1)],1),n._v(" "),"AU"===n.form.country?e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.installationDetails.installCec")}},[e("el-input",{model:{value:n.form.installCec,callback:function(t){n.$set(n.form,"installCec",t)},expression:"form.installCec"}})],1)],1):n._e(),n._v(" "),"AU"===n.form.country?e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.installationDetails.invoiceUpload")}},[e("el-tooltip",{staticClass:"tooltip",attrs:{effect:"dark",content:n.ivcTooltip,placement:"top-start"}},[e("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{width:"100%"},attrs:{limit:1,action:"https://jsonplaceholder.typicode.com/posts/","on-change":n.handleChange1,"on-preview":n.handlePreview1,"on-remove":n.handleRemove1,"file-list":n.fileList1,"auto-upload":!1}},[e("el-input",{staticClass:"fileBtn",staticStyle:{width:"100%"},attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[n._v(n._s(n.$t("registration.installationDetails.invoiceUploadBtn")))])],1)],1)],1)],1):n._e(),n._v(" "),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:n.$t("registration.installationDetails.cecFileUpload")}},[e("el-tooltip",{staticClass:"tooltip",attrs:{effect:"dark",content:n.cecTooltip,placement:"top-start"}},[e("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{width:"100%"},attrs:{limit:1,action:"https://jsonplaceholder.typicode.com/posts/","on-change":n.handleChange,"on-preview":n.handlePreview,"on-remove":n.handleRemove,"file-list":n.fileList,"auto-upload":!1}},[e("el-input",{staticClass:"fileBtn",staticStyle:{width:"100%"},attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[n._v(n._s(n.$t("registration.installationDetails.cecFileUploadBtn")))])],1)],1)],1)],1)],1),n._v(" "),e("h2",[n._v(n._s(n.$t("registration.Suggestions.title")))]),n._v(" "),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:n.$t("registration.Suggestions.suggestionsContext")}},[e("el-input",{attrs:{type:"textarea",resize:"none",rows:4},model:{value:n.form.suggestions,callback:function(t){n.$set(n.form,"suggestions",t)},expression:"form.suggestions"}})],1)],1),n._v(" "),e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:" "}},[e("el-checkbox",{model:{value:n.form.checked,callback:function(t){n.$set(n.form,"checked",t)},expression:"form.checked"}},[e("i18n",{attrs:{path:"registration.toTerm",tag:"label",for:"registration.tos"}},[e("el-button",{attrs:{type:"text"},on:{click:n.openTerm}},[n._v(n._s(n.$t("registration.tos")))])],1)],1)],1)],1)],1),n._v(" "),e("el-form-item",{staticClass:"sub"},[e("el-button",{attrs:{type:"primary",disabled:!n.form.checked,loading:n.submitLoading},on:{click:function(t){return n.onSubmit("form")}}},[n._v(n._s(n.$t("registration.submit")))]),n._v(" "),e("el-button",{on:{click:n.reset}},[n._v(n._s(n.$t("registration.reset")))])],1)],1)],1)};m._withStripped=!0;var u={render:m,staticRenderFns:[]},p=u;var f=!1;var g=e("VU/8")(d,p,!1,function(n){f||e("tRn4")},null,null);g.options.__file="src/components/pages/registration.vue";t.default=g.exports},d18B:function(n,t,e){(n.exports=e("yGwj")(!0)).push([n.i,"\n.registration{height:100%\n}\n.registration .desc{text-align:center;font-size:30px\n}\n.registration .desc img{width:100%;display:inline-block\n}\n.registration .form{padding:20px\n}\n.registration .form h2{padding:10px 0;color:#FF7F00\n}\n.registration .form .datePicker,.registration .form .el-select{width:100%\n}\n.registration .form .el-upload{width:100%\n}\n.registration .form .upload-demo>div{width:100%\n}\n.registration .form .upload-demo ul{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;position:absolute;top:0\n}\n.registration .form .upload-demo ul:focus{border:none;outline:none !important\n}\n.registration .form .upload-demo ul li{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1px;line-height:32px;height:32px;margin-top:0\n}\n.registration .form .upload-demo ul li .el-icon-close{top:9px\n}\n.registration .form .upload-demo ul li:hover{background-color:transparent\n}\n.registration .form .upload-demo ul li:focus{border:none;outline:none !important\n}\n.registration .form .sub{margin-top:20px\n}\n","",{version:3,sources:["/Users/Bill/Documents/work/idea/three/sun-portal-view/src/components/pages/registration.vue","registration.vue"],names:[],mappings:";AA6YA,cACE;AC5YF;AD2YA,oBAGI,iBAAA,CACA;AC7YJ;ADyYA,wBAMM,UAAA,CACA;AC9YN;ADuYA,oBAWI;AChZJ;ADqYA,uBAaM,cAAA,CACA;ACjZN;ADmYA,+DAiBM;AClZN;ADiYA,+BAoBM;ACnZN;AD+XA,qCAwBQ;ACrZR;AD6XA,oCA2BQ,6BAAA,CAAA,qBAAA,CACA,UAAA,CACA,iBAAA,CACA;ACzZR;AD2XA,0CAgCU,WAAA,CACA;AC1ZV;ADyXA,uCAqCU,mBAAA,CAAA,mBAAA,CAAA,YAAA,CACA,wBAAA,CAAA,qBAAA,CAAA,kBAAA,CACA,WAAA,CACA,gBAAA,CACA,WAAA,CACA;ACjaV;ADuXA,sDA4CY;ACjaZ;ADqXA,6CAgDU;ACnaV;ADmXA,6CAmDU,WAAA,CACA;ACraV;ADiXA,yBAyDM;ACxaN",file:"registration.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.registration {\n  height: 100%;\n  .desc {\n    text-align: center;\n    font-size: 30px;\n    img{\n      width: 100%;\n      display: inline-block\n    }\n  }\n  .form{\n    padding: 20px;\n    h2{\n      padding: 10px 0;\n      color: #FF7F00\n    }\n    .datePicker,.el-select{\n      width: 100% ;\n    }\n    .el-upload{\n      width: 100%;\n    }\n    .upload-demo{\n      >div{\n        width: 100%;\n      }\n      ul{\n        box-sizing: border-box;\n        width: 100%;\n        position: absolute;\n        top: 0;\n        &:focus{\n          border: none;\n          outline:none !important;\n        }\n        li{\n          // box-sizing: border-box;\n          display: flex;\n          align-items: center;\n          padding: 1px;\n          line-height: 32px;\n          height: 32px;\n          margin-top: 0;\n          .el-icon-close{\n            top: 9px;\n          }\n        }\n        li:hover{\n          background-color: transparent;\n        }\n        li:focus{\n          border: none;\n          outline:none !important;\n        }\n      }\n    }\n    .sub{\n      margin-top: 20px;\n    }\n  }\n}\n\n","\n.registration{height:100%\n}\n.registration .desc{text-align:center;font-size:30px\n}\n.registration .desc img{width:100%;display:inline-block\n}\n.registration .form{padding:20px\n}\n.registration .form h2{padding:10px 0;color:#FF7F00\n}\n.registration .form .datePicker,.registration .form .el-select{width:100%\n}\n.registration .form .el-upload{width:100%\n}\n.registration .form .upload-demo>div{width:100%\n}\n.registration .form .upload-demo ul{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;position:absolute;top:0\n}\n.registration .form .upload-demo ul:focus{border:none;outline:none !important\n}\n.registration .form .upload-demo ul li{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1px;line-height:32px;height:32px;margin-top:0\n}\n.registration .form .upload-demo ul li .el-icon-close{top:9px\n}\n.registration .form .upload-demo ul li:hover{background-color:transparent\n}\n.registration .form .upload-demo ul li:focus{border:none;outline:none !important\n}\n.registration .form .sub{margin-top:20px\n}\n"]}])},tRn4:function(n,t,e){var o=e("d18B");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);e("rjj0")("59bfd352",o,!1,{})}});
//# sourceMappingURL=7.aae94aefcdea518d51c5.js.map
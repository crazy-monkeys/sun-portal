webpackJsonp([6],{W9nI:function(e,t){},"y+Kv":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,s=a("a3Yh"),o=a.n(s),l=a("hRKE"),i=a.n(l),n=a("4YfN"),d=a.n(n),m=a("e8d8"),c=a("UZd0"),u=a("dqLd"),f={name:"SigleItem",components:{Breadcrumb:m.a},data:function(){var e={submitType:1,country:u.a.dropValue,businessPartner:"",address:{cityName:"",stateName:"",postCode:"",addressLine1:"",addressLine2:""},billType:"",abn:"",businessName:"",firstName:"",lastName:"",email:"",sendEmail:"",contactNumber:"",serialNumber:"",productModel:"",installDate:"",shippingAddress:"",cityName:"",stateName:"",postCode:"",addressLine1:"",addressLine2:"",warrantyType:"",purchaseOrder:"",amount:"",checked:!1,type:3};return{submitLoading:!1,shippingAddressRadio:"",billTypes:[{value:"Business",label:"Business"},{value:"Individual",label:"Individual"}],warrantyTypes:[{value:"W5YP",label:"Additional 5 Years Parts Warranty"},{value:"W5YS",label:"Additional 5 Years Standard Warranty"}],options:[{value:"AU",label:"Australia"},{value:"2",label:"选项2"}],breadcrumbList:[{path:"/warranty/extension",name:"Warranty"},{path:"/warranty/extension",name:"Extension"},{path:"/warranty/extension/sigleItem",name:"Sigle Item"}],fileList:[],productId:"",formMod:e,form:d()({},e)}},watch:{shippingAddressRadio:{handler:function(e,t){this.form.shippingAddress=1==e?(this.form.businessName?this.form.businessName+",":"")+this.form.address.addressLine1+","+this.form.address.addressLine2+","+this.form.address.cityName+","+this.form.address.stateName+","+this.form.address.postCode:2==e?(this.form.businessName?this.form.businessName+",":"")+this.form.addressLine1+","+this.form.addressLine2+","+this.form.cityName+","+this.form.stateName+","+this.form.postCode:""}},"form.billType":{handler:function(e,t){"Individual"==e&&(this.form.abn="",this.form.businessName="")}}},methods:(r={openTerm:function(){window.open("../../../sun-portal/static/Sungrow Manufacturer Warranty.pdf")},getAmount:function(){var e=this;if(this.form.warrantyType){var t={serialNumber:this.form.serialNumber,productId:this.product.id,productModel:this.product.productModelValue,deliveryDate:this.product.deliveryDate,warrantyType:this.form.warrantyType};Object(c.a)(t).then(function(t){1==t.data.code&&(e.form.amount=t.data.data,e.form.products=[{productId:e.product.id,productModel:e.product.productModelValue,warrantyType:e.form.warrantyType,purchaseOrder:e.form.purchaseOrder,amount:e.form.amount}])})}},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},getProductInfo:function(){var e=this;this.form.serialNumber?Object(c.f)({serialNumber:this.form.serialNumber}).then(function(t){1==t.data.code&&(e.product=t.data.data,e.form.productModel=t.data.data.productModelValue,e.form.businessPartner=t.data.data.businessPartner)}).catch(function(t){e.form.productModel="",console.log(t)}):this.form.productModel=""},onSubmit:function(){var e=this;this.submitLoading=!0,this.form.country=u.a.dropValue;var t=new FormData,a=this.form;for(var r in a)if("object"==i()(a[r]))for(var s in a[r])if("object"==i()(a[r][s]))for(var o in a[r][s])(a[r][s][o]||0===a[r][s][o])&&(a[r].constructor==Array?t.append(r+"["+s+"]."+o,a[r][s][o]):t.append(r+"."+s+"."+o,a[r][s][o]));else(a[r][s]||0===a[r][s])&&t.append(r+"."+s,a[r][s]);else(a[r]||0===a[r])&&t.append(r,a[r]);Object(c.i)(t).then(function(t){if(1==t.data.code){e.submitLoading=!1,e.$message.success("submitted successfully, Doc No."+t.data.data+"and will jump to home page in 3 seconds");var a=setTimeout(function(){e.$router.push({name:"Home"}),clearTimeout(a)},3e3)}}).catch(function(t){e.submitLoading=!1})},reset:function(){this.form=d()({},this.formMod)},changeFile:function(e){console.log(e)}},o()(r,"submitUpload",function(){this.$refs.upload.submit()}),o()(r,"handleRemove",function(e,t){console.log(e,t)}),o()(r,"handlePreview",function(e){console.log(e)}),r),mounted:function(){var e=this;u.a.$on("dropValue",function(t){e.form.country=t})}},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"sigleItem",attrs:{direction:"vertical"}},[r("Breadcrumb",{attrs:{breadcrumbList:e.breadcrumbList}}),e._v(" "),r("div",{staticClass:"desc"},[r("img",{attrs:{src:a("Ba9w"),alt:"图片"}})]),e._v(" "),r("el-form",{ref:"form",staticClass:"form",attrs:{disabled:e.submitLoading,size:"small",model:e.form,"label-width":"80px","label-position":"top"}},[r("h2",[e._v("Billing Details")]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Type"}},[r("el-select",{attrs:{placeholder:"",clearable:"",filterable:""},model:{value:e.form.billType,callback:function(t){e.$set(e.form,"billType",t)},expression:"form.billType"}},e._l(e.billTypes,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),"AU"==e.form.country?r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"ABN"}},[r("el-input",{attrs:{disabled:"Individual"==e.form.billType},model:{value:e.form.abn,callback:function(t){e.$set(e.form,"abn",t)},expression:"form.abn"}})],1)],1):e._e(),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Business Name"}},[r("el-input",{attrs:{disabled:"Individual"==e.form.billType},model:{value:e.form.businessName,callback:function(t){e.$set(e.form,"businessName",t)},expression:"form.businessName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Address Line 1"}},[r("el-input",{model:{value:e.form.address.addressLine1,callback:function(t){e.$set(e.form.address,"addressLine1",t)},expression:"form.address.addressLine1"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Address Line 2"}},[r("el-input",{model:{value:e.form.address.addressLine2,callback:function(t){e.$set(e.form.address,"addressLine2",t)},expression:"form.address.addressLine2"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"City/District"}},[r("el-input",{model:{value:e.form.address.cityName,callback:function(t){e.$set(e.form.address,"cityName",t)},expression:"form.address.cityName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"State/Province"}},[r("el-input",{model:{value:e.form.address.stateName,callback:function(t){e.$set(e.form.address,"stateName",t)},expression:"form.address.stateName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Post code"}},[r("el-input",{model:{value:e.form.address.postCode,callback:function(t){e.$set(e.form.address,"postCode",t)},expression:"form.address.postCode"}})],1)],1)],1),e._v(" "),r("h2",[e._v("Contact Details")]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"First name"}},[r("el-input",{model:{value:e.form.firstName,callback:function(t){e.$set(e.form,"firstName",t)},expression:"form.firstName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Last name"}},[r("el-input",{model:{value:e.form.lastName,callback:function(t){e.$set(e.form,"lastName",t)},expression:"form.lastName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Email"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-message"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Confirm your Email"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-message"},model:{value:e.form.sendEmail,callback:function(t){e.$set(e.form,"sendEmail",t)},expression:"form.sendEmail"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Contact Number"}},[r("el-input",{model:{value:e.form.contactNumber,callback:function(t){e.$set(e.form,"contactNumber",t)},expression:"form.contactNumber"}})],1)],1)],1),e._v(" "),r("h2",[e._v("Product Details")]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Serial number"}},[r("el-input",{on:{blur:e.getProductInfo},model:{value:e.form.serialNumber,callback:function(t){e.$set(e.form,"serialNumber",t)},expression:"form.serialNumber"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Product model"}},[r("el-input",{attrs:{readonly:!0},model:{value:e.form.productModel,callback:function(t){e.$set(e.form,"productModel",t)},expression:"form.productModel"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Installation date (if applicable)"}},[r("el-date-picker",{staticClass:"datePicker",attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.installDate,callback:function(t){e.$set(e.form,"installDate",t)},expression:"form.installDate"}})],1)],1)],1),e._v(" "),r("h2",[e._v("Installation Address")]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"The installation address is"}},[r("el-radio-group",{model:{value:e.shippingAddressRadio,callback:function(t){e.shippingAddressRadio=t},expression:"shippingAddressRadio"}},[r("el-radio",{attrs:{label:"1",value:"1"}},[e._v("Same as billing address")]),e._v(" "),r("el-radio",{attrs:{label:"2",value:"2"}},[e._v("Other address (Please fill in below)")]),e._v(" "),r("el-radio",{attrs:{label:"3",value:"3"}},[e._v("Not applicable")])],1)],1)],1),e._v(" "),2==e.shippingAddressRadio?r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Address Line 1"}},[r("el-input",{model:{value:e.form.addressLine1,callback:function(t){e.$set(e.form,"addressLine1",t)},expression:"form.addressLine1"}})],1)],1):e._e(),e._v(" "),2==e.shippingAddressRadio?r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Address Line 2"}},[r("el-input",{model:{value:e.form.addressLine2,callback:function(t){e.$set(e.form,"addressLine2",t)},expression:"form.addressLine2"}})],1)],1):e._e(),e._v(" "),2==e.shippingAddressRadio?r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"City/District"}},[r("el-input",{model:{value:e.form.cityName,callback:function(t){e.$set(e.form,"cityName",t)},expression:"form.cityName"}})],1)],1):e._e(),e._v(" "),2==e.shippingAddressRadio?r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"State/Province"}},[r("el-input",{model:{value:e.form.stateName,callback:function(t){e.$set(e.form,"stateName",t)},expression:"form.stateName"}})],1)],1):e._e(),e._v(" "),2==e.shippingAddressRadio?r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Post code"}},[r("el-input",{model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1)],1):e._e()],1),e._v(" "),r("h2",[e._v("Warranty type to purchase")]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Warranty type"}},[r("el-select",{attrs:{placeholder:"",clearable:"",filterable:""},on:{change:e.getAmount,clear:function(t){e.form.amount=""}},model:{value:e.form.warrantyType,callback:function(t){e.$set(e.form,"warrantyType",t)},expression:"form.warrantyType"}},e._l(e.warrantyTypes,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Purchase order (if applicable)"}},[r("el-input",{model:{value:e.form.purchaseOrder,callback:function(t){e.$set(e.form,"purchaseOrder",t)},expression:"form.purchaseOrder"}})],1)],1)],1),e._v(" "),r("h2",[e._v("The total amount you need to pay is (GST excluded):")]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"Total amount (excl. GST)"}},[r("el-input",{attrs:{readonly:!0},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:" "}},[r("el-checkbox",{model:{value:e.form.checked,callback:function(t){e.$set(e.form,"checked",t)},expression:"form.checked"}},[e._v("I have read and agree to "),r("el-button",{attrs:{type:"text"},on:{click:e.openTerm}},[e._v("Sungrow's warranty terms.")])],1)],1)],1)],1),e._v(" "),r("el-form-item",{staticClass:"sub"},[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("Submit")]),e._v(" "),r("el-button",{on:{click:e.reset}},[e._v("reset")])],1)],1)],1)},staticRenderFns:[]};var b=a("C7Lr")(f,p,!1,function(e){a("W9nI")},null,null);t.default=b.exports}});
//# sourceMappingURL=6.ee555ebc8c11ab2dd9e7.js.map
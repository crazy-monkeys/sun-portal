webpackJsonp([2],{"5cus":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,s=a("a3Yh"),o=a.n(s),l=a("hRKE"),n=a.n(l),i=a("4YfN"),c=a.n(i),d=a("e8d8"),m=a("dqLd"),u=a("UZd0"),f={name:"ClaimForm",components:{Breadcrumb:d.a},data:function(){var e={accessory:"",country:m.a.dropValue,endUser:{person:"",contactNumber:"",contactEmail:"",address:{cityName:"",stateName:"",postCode:"",addressLine1:"",addressLine2:""}},contact:{billType:"Business",abn:"",businessName:"",person:"",contactNumber:"",contactEmail:"",address:{cityName:"",stateName:"",postCode:"",addressLine1:"",addressLine2:""}},serviceCall:{weather:"",location:"",weatherMsg:"",battery:"",model:"",batteryMsg:"",shippingAddress:""},businessPartner:"",productNumber:"",productModel:"",productId:[],products:[],installDate:"",type:2};return{radio:"",submitLoading:!1,options:[{value:"AU",label:"Australia"},{value:"2",label:"选项2"}],breadcrumbList:[{path:"/warranty/registration",name:"Warranty"},{path:"/warranty/claim/form",name:"Online Warranty Claim Form"}],shippingAddressRadio:"",fileList:[],formMod:e,form:c()({},e)}},watch:{"form.contact.billType":{handler:function(e,t){"Individual"==e?(this.form.contact.abn="",this.form.contact.businessName="",this.form.contact.person="",this.form.contact.contactNumber="",this.form.contact.contactEmail="",this.form.contact.address.cityName="",this.form.contact.address.stateName="",this.form.contact.address.postCode="",this.form.contact.address.addressLine1="",this.form.contact.address.addressLine2=""):(this.form.endUser.person="",this.form.endUser.contactNumber="",this.form.endUser.contactEmail="",this.form.endUser.address.cityName="",this.form.endUser.address.stateName="",this.form.endUser.address.postCode="",this.form.endUser.address.addressLine1="",this.form.endUser.address.addressLine2="")}}},methods:(r={openTerm:function(){window.open("../../../sun-portal-api/sunportal/static/Sungrow Manufacturer Warranty.pdf")},shippingAddressRadioChangeHandle:function(e){if("1"===e){var t="Business"==this.form.contact.billType?this.form.contact:this.form.endUser,a=t.address,r=a.addressLine1,s=a.addressLine2,o=a.cityName,l=a.stateName,n=a.postCode,i=t.person,c=t.contactNumber,d=[this.form.contact.businessName,r,s,o,l,n,i?"ATTN:"+i:"",c].filter(function(e){return e.trim()}).join(",");this.form.serviceCall.shippingAddress=d}else this.form.serviceCall.shippingAddress=""},submitUpload:function(){this.$refs.upload.submit()},uploadOnChangeHandle:function(e,t){this.fileList=t},getProductInfo:function(){var e=this;this.form.productNumber?Object(u.f)({serialNumber:this.form.productNumber}).then(function(t){1==t.data.code?(e.form.productModel=t.data.data.productModelValue,e.form.businessPartner=t.data.data.businessPartner,e.form.products=[{serialNumber:e.form.productNumber,productId:t.data.data.id,productModel:t.data.data.productModelValue}]):e.form.productModel=""}).catch(function(t){e.form.productModel="",console.log(t)}):(this.form.productModel="",this.form.accessory="")},onSubmit:function(){var e=this;this.submitLoading=!0,this.form.country=m.a.dropValue;var t=new FormData;this.fileList.forEach(function(e,a){t.append("files["+a+"]",e.raw)});var a=this.form;for(var r in a)if("object"==n()(a[r]))for(var s in a[r])if("object"==n()(a[r][s]))for(var o in a[r][s])(a[r][s][o]||0===a[r][s][o])&&(a[r].constructor===Array?t.append(r+"["+s+"]."+o,a[r][s][o]):t.append(r+"."+s+"."+o,a[r][s][o]));else(a[r][s]||0===a[r][s])&&t.append(r+"."+s,a[r][s]);else(a[r]||0===a[r])&&t.append(r,a[r]);console.log(t),Object(u.g)(t).then(function(t){if(1==t.data.code){e.submitLoading=!1,e.$message.success("submitted successfully, Doc No."+t.data.data+"and will jump to home page in 3 seconds");var a=setTimeout(function(){e.$router.push({name:"Home"}),clearTimeout(a)},3e3)}}).catch(function(t){e.submitLoading=!1})},reset:function(){this.form=c()({},this.formMod),this.$refs.upload.clearFiles()},changeFile:function(e){console.log(e)}},o()(r,"submitUpload",function(){this.$refs.upload.submit()}),o()(r,"handleRemove",function(e,t){console.log(e,t)}),o()(r,"handlePreview",function(e){console.log(e)}),r),created:function(){},mounted:function(){var e=this;m.a.$on("dropValue",function(t){e.form.country=t})}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"claimForm",attrs:{direction:"vertical"}},[a("Breadcrumb",{attrs:{breadcrumbList:e.breadcrumbList}}),e._v(" "),a("el-form",{ref:"form",staticClass:"form",attrs:{disabled:e.submitLoading,size:"small",model:e.form,"label-width":"80px","label-position":"top"}},[a("h2",[e._v("Product Details")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Serial number"}},[a("el-input",{on:{blur:e.getProductInfo},model:{value:e.form.productNumber,callback:function(t){e.$set(e.form,"productNumber",t)},expression:"form.productNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Product model"}},[a("el-input",{attrs:{readonly:!0},model:{value:e.form.productModel,callback:function(t){e.$set(e.form,"productModel",t)},expression:"form.productModel"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Date of installation"}},[a("el-date-picker",{staticClass:"datePicker",attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.installDate,callback:function(t){e.$set(e.form,"installDate",t)},expression:"form.installDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Want to claim an accessory?"}},[a("el-input",{attrs:{disabled:0==e.form.productNumber.length},model:{value:e.form.accessory,callback:function(t){e.$set(e.form,"accessory",t)},expression:"form.accessory"}})],1)],1)],1),e._v(" "),a("h2",[e._v("Claimant Contact Details")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Type"}},[a("el-radio-group",{model:{value:e.form.contact.billType,callback:function(t){e.$set(e.form.contact,"billType",t)},expression:"form.contact.billType"}},[a("el-radio",{attrs:{label:"Business",value:"Business"}},[e._v("Business")]),e._v(" "),a("el-radio",{attrs:{label:"Individual",vlaue:"Individual"}},[e._v("Individual")])],1)],1)],1)],1),e._v(" "),"Business"==e.form.contact.billType?a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},["AU"==e.form.country?a("el-form-item",{attrs:{label:"ABN"}},[a("el-input",{attrs:{disabled:"Individual"==e.form.contact.billType},model:{value:e.form.contact.abn,callback:function(t){e.$set(e.form.contact,"abn",t)},expression:"form.contact.abn"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Business Name"}},[a("el-input",{attrs:{disabled:"Individual"==e.form.contact.billType},model:{value:e.form.contact.businessName,callback:function(t){e.$set(e.form.contact,"businessName",t)},expression:"form.contact.businessName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Contact person"}},[a("el-input",{attrs:{disabled:"Individual"==e.form.contact.billType},model:{value:e.form.contact.person,callback:function(t){e.$set(e.form.contact,"person",t)},expression:"form.contact.person"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Contact number"}},[a("el-input",{attrs:{disabled:"Individual"==e.form.contact.billType},model:{value:e.form.contact.contactNumber,callback:function(t){e.$set(e.form.contact,"contactNumber",t)},expression:"form.contact.contactNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-message",disabled:"Individual"==e.form.contact.billType,placeholder:"separated by ','"},model:{value:e.form.contact.contactEmail,callback:function(t){e.$set(e.form.contact,"contactEmail",t)},expression:"form.contact.contactEmail"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Address Line 1"}},[a("el-input",{attrs:{disabled:"Individual"==e.form.contact.billType},model:{value:e.form.contact.address.addressLine1,callback:function(t){e.$set(e.form.contact.address,"addressLine1",t)},expression:"form.contact.address.addressLine1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Address Line 2"}},[a("el-input",{attrs:{disabled:"Individual"==e.form.contact.billType},model:{value:e.form.contact.address.addressLine2,callback:function(t){e.$set(e.form.contact.address,"addressLine2",t)},expression:"form.contact.address.addressLine2"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"City/District"}},[a("el-input",{attrs:{disabled:"Individual"==e.form.contact.billType},model:{value:e.form.contact.address.cityName,callback:function(t){e.$set(e.form.contact.address,"cityName",t)},expression:"form.contact.address.cityName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"State/Province"}},[a("el-input",{attrs:{disabled:"Individual"==e.form.contact.billType},model:{value:e.form.contact.address.stateName,callback:function(t){e.$set(e.form.contact.address,"stateName",t)},expression:"form.contact.address.stateName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Post code"}},[a("el-input",{attrs:{disabled:"Individual"==e.form.contact.billType},model:{value:e.form.contact.address.postCode,callback:function(t){e.$set(e.form.contact.address,"postCode",t)},expression:"form.contact.address.postCode"}})],1)],1)],1):e._e(),e._v(" "),"Business"!=e.form.contact.billType?a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.endUser.person,callback:function(t){e.$set(e.form.endUser,"person",t)},expression:"form.endUser.person"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Contact number"}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.endUser.contactNumber,callback:function(t){e.$set(e.form.endUser,"contactNumber",t)},expression:"form.endUser.contactNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-message",placeholder:"separated by ';'"},model:{value:e.form.endUser.contactEmail,callback:function(t){e.$set(e.form.endUser,"contactEmail",t)},expression:"form.endUser.contactEmail"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Address Line 1"}},[a("el-input",{model:{value:e.form.endUser.address.addressLine1,callback:function(t){e.$set(e.form.endUser.address,"addressLine1",t)},expression:"form.endUser.address.addressLine1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Address Line 2"}},[a("el-input",{model:{value:e.form.endUser.address.addressLine2,callback:function(t){e.$set(e.form.endUser.address,"addressLine2",t)},expression:"form.endUser.address.addressLine2"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"City/District"}},[a("el-input",{model:{value:e.form.endUser.address.cityName,callback:function(t){e.$set(e.form.endUser.address,"cityName",t)},expression:"form.endUser.address.cityName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"State/Province"}},[a("el-input",{model:{value:e.form.endUser.address.stateName,callback:function(t){e.$set(e.form.endUser.address,"stateName",t)},expression:"form.endUser.address.stateName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Post code"}},[a("el-input",{model:{value:e.form.endUser.address.postCode,callback:function(t){e.$set(e.form.endUser.address,"postCode",t)},expression:"form.endUser.address.postCode"}})],1)],1)],1):e._e(),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("h2",[e._v("Fault Details")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"The fault is"}},[a("el-radio-group",{model:{value:e.form.serviceCall.fault,callback:function(t){e.$set(e.form.serviceCall,"fault",t)},expression:"form.serviceCall.fault"}},[a("el-radio",{attrs:{label:"Permanent"}},[e._v("Permanent")]),e._v(" "),a("el-radio",{attrs:{label:"Intermittent"}},[e._v("Intermittent")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Status message on the LCD:"}},[a("el-input",{model:{value:e.form.serviceCall.lcd,callback:function(t){e.$set(e.form.serviceCall,"lcd",t)},expression:"form.serviceCall.lcd"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Fault description:"}},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:4},model:{value:e.form.serviceCall.description,callback:function(t){e.$set(e.form.serviceCall,"description",t)},expression:"form.serviceCall.description"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("h2",[e._v("Shipping Address")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:""}},[a("el-radio-group",{on:{change:e.shippingAddressRadioChangeHandle},model:{value:e.shippingAddressRadio,callback:function(t){e.shippingAddressRadio=t},expression:"shippingAddressRadio"}},[a("el-radio",{attrs:{label:"1",value:"1"}},[e._v("Same as claimant")]),e._v(" "),a("el-radio",{attrs:{label:"3",value:"3"}},[e._v("Other")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Shipping Address (in case that a replacement unit needs to be delivered) or Installation Adderss (in case that Sungrow Service Engineer will go on site)"}},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:4,readonly:"3"!=e.shippingAddressRadio},model:{value:e.form.serviceCall.shippingAddress,callback:function(t){e.$set(e.form.serviceCall,"shippingAddress",t)},expression:"form.serviceCall.shippingAddress"}})],1)],1)],1)],1)],1),e._v(" "),a("h2",[e._v("Other Details")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-row",{attrs:{gutter:20}},["AU"==e.form.country?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Is the inverter exposed to the weather (e.g. rain)?"}},[a("el-radio-group",{model:{value:e.form.serviceCall.weather,callback:function(t){e.$set(e.form.serviceCall,"weather",t)},expression:"form.serviceCall.weather"}},[a("el-radio",{attrs:{label:"Yes"}},[e._v("Yes")]),e._v(" "),a("el-radio",{attrs:{label:"No"}},[e._v("No")])],1)],1)],1):e._e(),e._v(" "),"AU"==e.form.country?a("el-col",{attrs:{span:24}},["Yes"==e.form.serviceCall.weather?a("el-form-item",{staticClass:"one",attrs:{label:"Inverter Installation Location"}},[a("el-input",{model:{value:e.form.serviceCall.location,callback:function(t){e.$set(e.form.serviceCall,"location",t)},expression:"form.serviceCall.location"}})],1):e._e()],1):e._e(),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Please provide the reference number that provided by Sungrow staff (either Phone call reference or 5 digits Email ticket number#)."}},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:4},model:{value:e.form.serviceCall.weatherMsg,callback:function(t){e.$set(e.form.serviceCall,"weatherMsg",t)},expression:"form.serviceCall.weatherMsg"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-row",{attrs:{gutter:20}},["AU"==e.form.country?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Does the inverter connect with a battery?"}},[a("el-radio-group",{model:{value:e.form.serviceCall.battery,callback:function(t){e.$set(e.form.serviceCall,"battery",t)},expression:"form.serviceCall.battery"}},[a("el-radio",{attrs:{label:"Yes"}},[e._v("Yes")]),e._v(" "),a("el-radio",{attrs:{label:"No"}},[e._v("No")])],1)],1)],1):e._e(),e._v(" "),"AU"==e.form.country?a("el-col",{attrs:{span:24}},["Yes"==e.form.serviceCall.battery?a("el-form-item",{staticClass:"one",attrs:{label:"Battery brand/model"}},[a("el-input",{model:{value:e.form.serviceCall.model,callback:function(t){e.$set(e.form.serviceCall,"model",t)},expression:"form.serviceCall.model"}})],1):e._e()],1):e._e(),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"one",attrs:{label:"Please leave any comments here"}},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:4},model:{value:e.form.serviceCall.batteryMsg,callback:function(t){e.$set(e.form.serviceCall,"batteryMsg",t)},expression:"form.serviceCall.batteryMsg"}})],1)],1)],1)],1)],1),e._v(" "),a("h2",[e._v("File Upload")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Please upload any pictures or documents that can support your warranty claim, such as the data sticker on a side of the inverter, and the LCD status or other LCD info that may be relevant.Note: The maximum attachment size per file is 10 MB."}},[a("el-upload",{ref:"upload",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.uploadOnChangeHandle,"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("Choose File")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:" "}},[a("el-checkbox",{model:{value:e.form.checked,callback:function(t){e.$set(e.form,"checked",t)},expression:"form.checked"}},[e._v("I have read and agree to "),a("el-button",{attrs:{type:"text"},on:{click:e.openTerm}},[e._v("Sungrow's warranty terms.")])],1)],1)],1)],1),e._v(" "),a("el-form-item",{staticClass:"sub"},[a("el-button",{attrs:{type:"primary",disabled:!e.form.checked,loading:e.submitLoading},on:{click:e.onSubmit}},[e._v("Submit")]),e._v(" "),a("el-button",{on:{click:e.reset}},[e._v("reset")])],1)],1)],1)},staticRenderFns:[]};var b=a("C7Lr")(f,p,!1,function(e){a("bFEH")},null,null);t.default=b.exports},bFEH:function(e,t){}});
//# sourceMappingURL=2.061134303c6ee62a6329.js.map
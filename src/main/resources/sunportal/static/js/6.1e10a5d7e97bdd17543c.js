webpackJsonp([6],{"3RbY":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("hRKE"),s=a.n(o),r=a("4YfN"),l=a.n(r),i=a("dqLd"),n=a("e8d8"),c=a("UZd0"),d={name:"Registration",components:{Breadcrumb:n.a},data:function(){var e={country:i.a.dropValue,invoiceFile:"",cecFile:"",contacts:{contactFirstName:"",contactLastName:"",contactEmail:"",contactNumber:""},address:{contryCode:"",cityName:"",stateName:"",addressLine1:"",addressLine2:"",postCode:""},productNumber:"",productModel:"",products:[],businessPartner:"",installInstaller:"",installDate:"",installCec:"",suggestions:"",checked:!1,type:1,a:"",b:""};return{Bus:i.a,pNumTooltip:"Please refer to the nameplate on the side of the Sungrow product.",ivcTooltip:"Please attach the invoice as the evidence of the installation.",cecTooltip:"Please attach the Electrical Compliance Certifcate as the evidence of the installation.Normally it will provided by the installer after installation.For different states.the name for such certifcate may vary.",pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},rules:{"contacts.contactFirstName":[{required:!0,message:"First name is required",triggle:["change","blur"]}],productNumber:[{required:!0,message:"Serial number is required",triggle:["change","blur"]}],"contacts.contactEmail":[{required:!0,message:"Email is required",triggle:["change","blur"]}],"address.cityName":[{required:!0,message:"City is required",triggle:["change","blur"]}],"address.stateName":[{required:!0,message:"State is required",triggle:["change","blur"]}],"address.postCode":[{required:!0,message:"Post code is required",triggle:["change","blur"]}],installDate:[{required:!0,message:"InstallDate is required",triggle:["change","blur"]}]},pNumLoding:!1,submitLoading:!1,options:[{value:"AU",label:"Australia"},{value:"2",label:"选项2"}],breadcrumbList:[{path:"/warranty/registration",name:"Warranty"},{path:"/warranty/registration",name:"Registration"}],fileList:[],fileList1:[],formMod:e,form:l()({},e)}},methods:{openTerm:function(){window.open("../../../sun-portal/static/Sungrow Manufacturer Warranty.pdf")},getProductInfo:function(){var e=this;this.form.productNumber?(this.pNumLoding=!0,Object(c.f)({serialNumber:this.form.productNumber}).then(function(t){1==t.data.code?(e.pNumLoding=!1,e.form.productModel=t.data.data.productModelValue,e.form.products=[{productNumber:e.form.productNumber,productId:t.data.data.id,productModel:t.data.data.productModelValue,dispatchedDate:t.data.data.dispatchedDate}],e.form.businessPartner=t.data.data.businessPartner):e.pNumLoding=!1}).catch(function(t){e.form.productModel="",e.pNumLoding=!1,console.log(t)})):this.form.productModel=""},onSubmit:function(e){this.$formTest.submitForm(this.$refs[e],this.submit)},submit:function(){var e=this;this.submitLoading=!0;var t=new FormData;this.form.country=i.a.dropValue;var a=this.form;for(var o in a)if("invoiceFile"===o&&a[o]||"cecFile"===o&&a[o])t.append(o,a[o]);else if("object"==s()(a[o]))for(var r in a[o])if("object"==s()(a[o][r]))for(var l in a[o][r])(a[o][r][l]||0===a[o][r][l])&&(a[o].constructor===Array?t.append(o+"["+r+"]."+l,a[o][r][l]):t.append(o+"."+r+"."+l,a[o][r][l]));else(a[o][r]||0===a[o][r])&&t.append(o+"."+r,a[o][r]);else(a[o]||0===a[o])&&t.append(o,a[o]);Object(c.h)(t).then(function(t){if(1==t.data.code){e.submitLoading=!1,e.$message.success("submitted successfully, Doc No."+t.data.data+"and will jump to home page in 3 seconds");var a=setTimeout(function(){e.$router.push({name:"Home"}),clearTimeout(a)},3e3)}}).catch(function(t){e.submitLoading=!1})},reset:function(){this.form=l()({},this.formMod)},changeFile:function(e){console.log(e)},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleChange:function(e,t){this.fileList=t.slice(-1),this.form.cecFile=this.fileList[0].raw},handleRemove1:function(e,t){console.log(e,t)},handlePreview1:function(e){console.log(e)},handleChange1:function(e,t){this.fileList1=t.slice(-1),this.form.invoiceFile=this.fileList1[0].raw}},created:function(){console.log("https://sunportalfb3323b80.cn1.hana.ondemand.com/sun-portal-api")},mounted:function(){var e=this;i.a.$on("dropValue",function(t){e.form.country=t})}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"registration",attrs:{direction:"vertical"}},[a("Breadcrumb",{attrs:{breadcrumbList:e.breadcrumbList}}),e._v(" "),a("el-form",{ref:"form",staticClass:"form",attrs:{disabled:e.submitLoading,rules:e.rules,size:"small",model:e.form,"label-width":"80px","label-position":"top"}},[a("h2",[e._v("Contact Details")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"First name",prop:"contacts.contactFirstName"}},[a("el-input",{model:{value:e.form.contacts.contactFirstName,callback:function(t){e.$set(e.form.contacts,"contactFirstName",t)},expression:"form.contacts.contactFirstName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Last name"}},[a("el-input",{model:{value:e.form.contacts.contactLastName,callback:function(t){e.$set(e.form.contacts,"contactLastName",t)},expression:"form.contacts.contactLastName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Email",prop:"contacts.contactEmail"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-message",placeholder:"separated by ';'"},model:{value:e.form.contacts.contactEmail,callback:function(t){e.$set(e.form.contacts,"contactEmail",t)},expression:"form.contacts.contactEmail"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Contact Number"}},[a("el-input",{model:{value:e.form.contacts.contactNumber,callback:function(t){e.$set(e.form.contacts,"contactNumber",t)},expression:"form.contacts.contactNumber"}})],1)],1)],1),e._v(" "),a("h2",[e._v("Product Details")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.pNumLoding,expression:"pNumLoding"}],attrs:{span:6}},[a("el-form-item",{attrs:{label:"Product serial number",prop:"productNumber"}},[a("el-tooltip",{staticClass:"tooltip",attrs:{effect:"dark",content:e.pNumTooltip,placement:"top-start"}},[a("el-input",{on:{change:e.getProductInfo},model:{value:e.form.productNumber,callback:function(t){e.$set(e.form,"productNumber",t)},expression:"form.productNumber"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Product model"}},[a("el-input",{attrs:{readonly:!0},model:{value:e.form.productModel,callback:function(t){e.$set(e.form,"productModel",t)},expression:"form.productModel"}})],1)],1)],1),e._v(" "),a("h2",[e._v("Installation Details")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Address Line 1"}},[a("el-input",{model:{value:e.form.address.addressLine1,callback:function(t){e.$set(e.form.address,"addressLine1",t)},expression:"form.address.addressLine1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Address Line 2"}},[a("el-input",{model:{value:e.form.address.addressLine2,callback:function(t){e.$set(e.form.address,"addressLine2",t)},expression:"form.address.addressLine2"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"City/District",prop:"address.cityName"}},[a("el-input",{model:{value:e.form.address.cityName,callback:function(t){e.$set(e.form.address,"cityName",t)},expression:"form.address.cityName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"State/Province",prop:"address.stateName"}},[a("el-input",{model:{value:e.form.address.stateName,callback:function(t){e.$set(e.form.address,"stateName",t)},expression:"form.address.stateName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Post code",prop:"address.postCode"}},[a("el-input",{model:{value:e.form.address.postCode,callback:function(t){e.$set(e.form.address,"postCode",t)},expression:"form.address.postCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Installer"}},[a("el-input",{model:{value:e.form.installInstaller,callback:function(t){e.$set(e.form,"installInstaller",t)},expression:"form.installInstaller"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Installation date",prop:"installDate"}},[a("el-date-picker",{staticClass:"datePicker",attrs:{"picker-options":e.pickerOptions,type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.installDate,callback:function(t){e.$set(e.form,"installDate",t)},expression:"form.installDate"}})],1)],1),e._v(" "),"AU"===e.form.country?a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"CEC accreditation number"}},[a("el-input",{model:{value:e.form.installCec,callback:function(t){e.$set(e.form,"installCec",t)},expression:"form.installCec"}})],1)],1):e._e(),e._v(" "),"AU"===e.form.country?a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Invoice upload"}},[a("el-tooltip",{staticClass:"tooltip",attrs:{effect:"dark",content:e.ivcTooltip,placement:"top-start"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{width:"100%"},attrs:{limit:1,action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.handleChange1,"on-preview":e.handlePreview1,"on-remove":e.handleRemove1,"file-list":e.fileList1,"auto-upload":!1}},[a("el-input",{staticClass:"fileBtn",staticStyle:{width:"100%"},attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("Choose File")])],1)],1)],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Electrical Compliance Certificate"}},[a("el-tooltip",{staticClass:"tooltip",attrs:{effect:"dark",content:e.cecTooltip,placement:"top-start"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{width:"100%"},attrs:{limit:1,action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.handleChange,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1}},[a("el-input",{staticClass:"fileBtn",staticStyle:{width:"100%"},attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("Choose File")])],1)],1)],1)],1)],1),e._v(" "),a("h2",[e._v("Suggestions")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Do you have any product suggestions?"}},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:4},model:{value:e.form.suggestions,callback:function(t){e.$set(e.form,"suggestions",t)},expression:"form.suggestions"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:" "}},[a("el-checkbox",{model:{value:e.form.checked,callback:function(t){e.$set(e.form,"checked",t)},expression:"form.checked"}},[e._v("I have read and agree to "),a("el-button",{attrs:{type:"text"},on:{click:e.openTerm}},[e._v("Sungrow's warranty terms.")])],1)],1)],1)],1),e._v(" "),a("el-form-item",{staticClass:"sub"},[a("el-button",{attrs:{type:"primary",disabled:!e.form.checked,loading:e.submitLoading},on:{click:function(t){return e.onSubmit("form")}}},[e._v("Submit")]),e._v(" "),a("el-button",{on:{click:e.reset}},[e._v("reset")])],1)],1)],1)},staticRenderFns:[]};var u=a("C7Lr")(d,m,!1,function(e){a("pM4W")},null,null);t.default=u.exports},pM4W:function(e,t){}});
//# sourceMappingURL=6.1e10a5d7e97bdd17543c.js.map